{"id":"../src/index.ts","dependencies":[{"name":"/Users/jxr/workplace/demo/monitor/tsconfig.json","includedInParent":true,"mtime":1639741900102},{"name":"/Users/jxr/workplace/demo/monitor/package.json","includedInParent":true,"mtime":1719802351235},{"name":"./config","loc":{"line":7,"column":39},"parent":"/Users/jxr/workplace/demo/monitor/src/index.ts","resolved":"/Users/jxr/workplace/demo/monitor/src/config/index.ts"},{"name":"./data/reportData","loc":{"line":15,"column":43},"parent":"/Users/jxr/workplace/demo/monitor/src/index.ts","resolved":"/Users/jxr/workplace/demo/monitor/src/data/reportData.ts"},{"name":"./error","loc":{"line":21,"column":38},"parent":"/Users/jxr/workplace/demo/monitor/src/index.ts","resolved":"/Users/jxr/workplace/demo/monitor/src/error/index.ts"}],"generated":{"js":"\"use strict\";\n/** @format */\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar config_1 = __importDefault(require(\"./config\")); // import { IMonitorOptions } from \"./typings/types\";\n// import { isPerformanceSupported } from \"./tools/isSupported\";\n// import { D, W, WN } from \"./data/constants\";\n// import {\n//   disconnectPerfObserversHidden,\n//   initPerformanceObserver\n// } from \"./performance/observer\";\n\n\nvar reportData_1 = __importDefault(require(\"./data/reportData\")); // import { logData } from \"./data/log\";\n// import { getNavigationTiming } from \"./helpers/getNavigationTiming\";\n// import { didVisibilityChange } from \"./helpers/onVisibilityChange\";\n// import { getNetworkInformation } from \"./helpers/getNetworkInformation\";\n// import { reportStorageEstmate } from \"./data/storageEstimate\";\n\n\nvar error_1 = __importDefault(require(\"./error\"));\n\nvar Monitor =\n/** @class */\nfunction () {\n  function Monitor(options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    this.v = \"1.0.0\";\n    var postUrl = options.postUrl;\n    if (!postUrl) throw new Error(\"\\u76D1\\u63A7\\u5E73\\u53F0\".concat(this.v, \"\\u63D0\\u793A\\u672A\\u914D\\u7F6E\\u4E0A\\u62A5url\"));\n    this.configManager = new config_1.default(options);\n    this.reportData = (0, reportData_1.default)(this.configManager.reportCofing);\n    this.initError();\n    this.initPerformance(); // // 集合数据汇总\n    // config.isElementTiming = !!elementTiming;\n    // config.isResourceTiming = !!resourceTiming;\n    // config.maxTime = maxTime || config.maxTime;\n    // if (!isPerformanceSupported) return;\n    // if (\"PerformanceObserver\" in W) initPerformanceObserver();\n    // //初始化\n    // if (typeof D.hidden !== \"undefined\") {\n    //   D.addEventListener(\n    //     \"visibilitychange\",\n    //     didVisibilityChange.bind(this, disconnectPerfObserversHidden)\n    //   );\n    // }\n    // // 记录系统DNS请求+白屏时间等\n    // logData(\"navigationTiming\", getNavigationTiming());\n    // // 记录用户网速 H5+多普勒测试\n    // logData(\"networkInfomation\", getNetworkInformation());\n    // // 管理离线缓存数据\n    // if (WN && WN.storage && typeof WN.storage.estimate === \"function\") {\n    //   WN.storage.estimate().then(reportStorageEstmate);\n    // }\n  }\n\n  Monitor.prototype.initError = function () {\n    new error_1.default(this.configManager.errConfig, this.reportData);\n  };\n\n  Monitor.prototype.initPerformance = function () {};\n\n  return Monitor;\n}();\n\nexports.default = Monitor;"},"sourceMaps":{"js":{"mappings":[{"source":"../src/index.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":2,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":14,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":14,"column":4}},{"source":"../src/index.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":14,"column":12}},{"source":"../src/index.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":14,"column":15}},{"source":"../src/index.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":14,"column":30}},{"source":"../src/index.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":14,"column":31}},{"source":"../src/index.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":14,"column":38}},{"source":"../src/index.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":14,"column":39}},{"source":"../src/index.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":14,"column":49}},{"source":"../src/index.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":14,"column":50}},{"source":"../src/index.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":14,"column":51}},{"source":"../src/index.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":14,"column":53}},{"source":"../src/index.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":15,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":16,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":17,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":18,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":19,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":20,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":23,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":23,"column":4}},{"source":"../src/index.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":23,"column":16}},{"source":"../src/index.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":23,"column":19}},{"source":"../src/index.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":23,"column":34}},{"source":"../src/index.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":23,"column":35}},{"source":"../src/index.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":23,"column":42}},{"source":"../src/index.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":23,"column":43}},{"source":"../src/index.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":23,"column":62}},{"source":"../src/index.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":23,"column":63}},{"source":"../src/index.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":23,"column":64}},{"source":"../src/index.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":23,"column":66}},{"source":"../src/index.ts","name":null,"original":{"line":13,"column":0},"generated":{"line":24,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":14,"column":0},"generated":{"line":25,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":15,"column":0},"generated":{"line":26,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":16,"column":0},"generated":{"line":27,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":30,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":30,"column":4}},{"source":"../src/index.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":30,"column":11}},{"source":"../src/index.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":30,"column":14}},{"source":"../src/index.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":30,"column":29}},{"source":"../src/index.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":30,"column":30}},{"source":"../src/index.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":30,"column":37}},{"source":"../src/index.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":30,"column":38}},{"source":"../src/index.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":30,"column":47}},{"source":"../src/index.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":30,"column":48}},{"source":"../src/index.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":30,"column":49}},{"source":"../src/index.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":32,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":32,"column":4}},{"source":"../src/index.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":32,"column":11}},{"source":"../src/index.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":33,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":34,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":34,"column":12}},{"source":"../src/index.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":35,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":35,"column":11}},{"source":"../src/index.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":35,"column":18}},{"source":"../src/index.ts","name":null,"original":{"line":24,"column":14},"generated":{"line":35,"column":19}},{"source":"../src/index.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":35,"column":26}},{"source":"../src/index.ts","name":null,"original":{"line":24,"column":52},"generated":{"line":35,"column":28}},{"source":"../src/index.ts","name":null,"original":{"line":24,"column":14},"generated":{"line":36,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":24,"column":14},"generated":{"line":36,"column":8}},{"source":"../src/index.ts","name":null,"original":{"line":24,"column":14},"generated":{"line":36,"column":15}},{"source":"../src/index.ts","name":null,"original":{"line":24,"column":14},"generated":{"line":36,"column":20}},{"source":"../src/index.ts","name":null,"original":{"line":24,"column":14},"generated":{"line":36,"column":25}},{"source":"../src/index.ts","name":null,"original":{"line":24,"column":14},"generated":{"line":36,"column":26}},{"source":"../src/index.ts","name":null,"original":{"line":24,"column":14},"generated":{"line":36,"column":28}},{"source":"../src/index.ts","name":null,"original":{"line":24,"column":14},"generated":{"line":37,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":24,"column":14},"generated":{"line":37,"column":6}},{"source":"../src/index.ts","name":null,"original":{"line":24,"column":14},"generated":{"line":37,"column":13}},{"source":"../src/index.ts","name":null,"original":{"line":24,"column":14},"generated":{"line":37,"column":16}},{"source":"../src/index.ts","name":null,"original":{"line":24,"column":14},"generated":{"line":37,"column":18}},{"source":"../src/index.ts","name":null,"original":{"line":24,"column":52},"generated":{"line":38,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":21,"column":10},"generated":{"line":40,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":21,"column":10},"generated":{"line":40,"column":9}},{"source":"../src/index.ts","name":null,"original":{"line":21,"column":10},"generated":{"line":40,"column":10}},{"source":"../src/index.ts","name":null,"original":{"line":21,"column":14},"generated":{"line":40,"column":13}},{"source":"../src/index.ts","name":null,"original":{"line":21,"column":10},"generated":{"line":40,"column":20}},{"source":"../src/index.ts","name":null,"original":{"line":25,"column":12},"generated":{"line":41,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":25,"column":12},"generated":{"line":41,"column":8}},{"source":"../src/index.ts","name":null,"original":{"line":25,"column":19},"generated":{"line":41,"column":15}},{"source":"../src/index.ts","name":null,"original":{"line":25,"column":24},"generated":{"line":41,"column":18}},{"source":"../src/index.ts","name":null,"original":{"line":25,"column":31},"generated":{"line":41,"column":25}},{"source":"../src/index.ts","name":null,"original":{"line":25,"column":31},"generated":{"line":41,"column":26}},{"source":"../src/index.ts","name":null,"original":{"line":25,"column":12},"generated":{"line":41,"column":33}},{"source":"../src/index.ts","name":null,"original":{"line":26,"column":4},"generated":{"line":42,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":26,"column":8},"generated":{"line":42,"column":8}},{"source":"../src/index.ts","name":null,"original":{"line":26,"column":9},"generated":{"line":42,"column":9}},{"source":"../src/index.ts","name":null,"original":{"line":26,"column":4},"generated":{"line":42,"column":16}},{"source":"../src/index.ts","name":null,"original":{"line":26,"column":18},"generated":{"line":42,"column":18}},{"source":"../src/index.ts","name":null,"original":{"line":26,"column":24},"generated":{"line":42,"column":24}},{"source":"../src/index.ts","name":null,"original":{"line":26,"column":28},"generated":{"line":42,"column":28}},{"source":"../src/index.ts","name":null,"original":{"line":26,"column":24},"generated":{"line":42,"column":33}},{"source":"../src/index.ts","name":null,"original":{"line":26,"column":34},"generated":{"line":42,"column":34}},{"source":"../src/index.ts","name":null,"original":{"line":26,"column":34},"generated":{"line":42,"column":61}},{"source":"../src/index.ts","name":null,"original":{"line":26,"column":34},"generated":{"line":42,"column":67}},{"source":"../src/index.ts","name":null,"original":{"line":26,"column":41},"generated":{"line":42,"column":68}},{"source":"../src/index.ts","name":null,"original":{"line":26,"column":46},"generated":{"line":42,"column":73}},{"source":"../src/index.ts","name":null,"original":{"line":26,"column":34},"generated":{"line":42,"column":74}},{"source":"../src/index.ts","name":null,"original":{"line":26,"column":47},"generated":{"line":42,"column":76}},{"source":"../src/index.ts","name":null,"original":{"line":26,"column":34},"generated":{"line":42,"column":123}},{"source":"../src/index.ts","name":null,"original":{"line":26,"column":24},"generated":{"line":42,"column":124}},{"source":"../src/index.ts","name":null,"original":{"line":26,"column":18},"generated":{"line":42,"column":125}},{"source":"../src/index.ts","name":null,"original":{"line":27,"column":4},"generated":{"line":43,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":27,"column":9},"generated":{"line":43,"column":9}},{"source":"../src/index.ts","name":null,"original":{"line":27,"column":4},"generated":{"line":43,"column":22}},{"source":"../src/index.ts","name":null,"original":{"line":27,"column":25},"generated":{"line":43,"column":25}},{"source":"../src/index.ts","name":null,"original":{"line":27,"column":29},"generated":{"line":43,"column":29}},{"source":"../src/index.ts","name":null,"original":{"line":27,"column":29},"generated":{"line":43,"column":37}},{"source":"../src/index.ts","name":null,"original":{"line":27,"column":29},"generated":{"line":43,"column":38}},{"source":"../src/index.ts","name":null,"original":{"line":27,"column":25},"generated":{"line":43,"column":45}},{"source":"../src/index.ts","name":null,"original":{"line":27,"column":43},"generated":{"line":43,"column":46}},{"source":"../src/index.ts","name":null,"original":{"line":27,"column":25},"generated":{"line":43,"column":53}},{"source":"../src/index.ts","name":null,"original":{"line":27,"column":4},"generated":{"line":43,"column":54}},{"source":"../src/index.ts","name":null,"original":{"line":28,"column":4},"generated":{"line":44,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":28,"column":9},"generated":{"line":44,"column":9}},{"source":"../src/index.ts","name":null,"original":{"line":28,"column":4},"generated":{"line":44,"column":19}},{"source":"../src/index.ts","name":null,"original":{"line":28,"column":22},"generated":{"line":44,"column":22}},{"source":"../src/index.ts","name":null,"original":{"line":28,"column":22},"generated":{"line":44,"column":23}},{"source":"../src/index.ts","name":null,"original":{"line":28,"column":22},"generated":{"line":44,"column":26}},{"source":"../src/index.ts","name":null,"original":{"line":28,"column":22},"generated":{"line":44,"column":38}},{"source":"../src/index.ts","name":null,"original":{"line":28,"column":22},"generated":{"line":44,"column":39}},{"source":"../src/index.ts","name":null,"original":{"line":28,"column":22},"generated":{"line":44,"column":46}},{"source":"../src/index.ts","name":null,"original":{"line":28,"column":33},"generated":{"line":44,"column":48}},{"source":"../src/index.ts","name":null,"original":{"line":28,"column":38},"generated":{"line":44,"column":53}},{"source":"../src/index.ts","name":null,"original":{"line":28,"column":33},"generated":{"line":44,"column":66}},{"source":"../src/index.ts","name":null,"original":{"line":28,"column":52},"generated":{"line":44,"column":67}},{"source":"../src/index.ts","name":null,"original":{"line":28,"column":22},"generated":{"line":44,"column":79}},{"source":"../src/index.ts","name":null,"original":{"line":28,"column":4},"generated":{"line":44,"column":80}},{"source":"../src/index.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":45,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":29,"column":9},"generated":{"line":45,"column":9}},{"source":"../src/index.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":45,"column":18}},{"source":"../src/index.ts","name":null,"original":{"line":30,"column":4},"generated":{"line":46,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":30,"column":9},"generated":{"line":46,"column":9}},{"source":"../src/index.ts","name":null,"original":{"line":30,"column":4},"generated":{"line":46,"column":24}},{"source":"../src/index.ts","name":null,"original":{"line":24,"column":52},"generated":{"line":46,"column":27}},{"source":"../src/index.ts","name":null,"original":{"line":32,"column":4},"generated":{"line":46,"column":28}},{"source":"../src/index.ts","name":null,"original":{"line":33,"column":4},"generated":{"line":47,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":34,"column":4},"generated":{"line":48,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":35,"column":4},"generated":{"line":49,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":37,"column":4},"generated":{"line":50,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":38,"column":4},"generated":{"line":51,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":40,"column":4},"generated":{"line":52,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":41,"column":4},"generated":{"line":53,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":42,"column":4},"generated":{"line":54,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":43,"column":4},"generated":{"line":55,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":44,"column":4},"generated":{"line":56,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":45,"column":4},"generated":{"line":57,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":46,"column":4},"generated":{"line":58,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":48,"column":4},"generated":{"line":59,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":49,"column":4},"generated":{"line":60,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":50,"column":4},"generated":{"line":61,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":51,"column":4},"generated":{"line":62,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":52,"column":4},"generated":{"line":63,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":53,"column":4},"generated":{"line":64,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":54,"column":4},"generated":{"line":65,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":55,"column":4},"generated":{"line":66,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":56,"column":3},"generated":{"line":67,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":58,"column":2},"generated":{"line":69,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":58,"column":2},"generated":{"line":69,"column":2}},{"source":"../src/index.ts","name":null,"original":{"line":58,"column":2},"generated":{"line":69,"column":9}},{"source":"../src/index.ts","name":null,"original":{"line":58,"column":2},"generated":{"line":69,"column":10}},{"source":"../src/index.ts","name":null,"original":{"line":58,"column":2},"generated":{"line":69,"column":19}},{"source":"../src/index.ts","name":null,"original":{"line":58,"column":2},"generated":{"line":69,"column":20}},{"source":"../src/index.ts","name":null,"original":{"line":58,"column":2},"generated":{"line":69,"column":29}},{"source":"../src/index.ts","name":null,"original":{"line":58,"column":2},"generated":{"line":69,"column":32}},{"source":"../src/index.ts","name":null,"original":{"line":58,"column":2},"generated":{"line":69,"column":44}},{"source":"../src/index.ts","name":null,"original":{"line":59,"column":4},"generated":{"line":70,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":59,"column":8},"generated":{"line":70,"column":8}},{"source":"../src/index.ts","name":null,"original":{"line":59,"column":8},"generated":{"line":70,"column":15}},{"source":"../src/index.ts","name":null,"original":{"line":59,"column":8},"generated":{"line":70,"column":16}},{"source":"../src/index.ts","name":null,"original":{"line":59,"column":4},"generated":{"line":70,"column":23}},{"source":"../src/index.ts","name":null,"original":{"line":59,"column":19},"generated":{"line":70,"column":24}},{"source":"../src/index.ts","name":null,"original":{"line":59,"column":24},"generated":{"line":70,"column":29}},{"source":"../src/index.ts","name":null,"original":{"line":59,"column":19},"generated":{"line":70,"column":42}},{"source":"../src/index.ts","name":null,"original":{"line":59,"column":38},"generated":{"line":70,"column":43}},{"source":"../src/index.ts","name":null,"original":{"line":59,"column":4},"generated":{"line":70,"column":52}},{"source":"../src/index.ts","name":null,"original":{"line":59,"column":49},"generated":{"line":70,"column":54}},{"source":"../src/index.ts","name":null,"original":{"line":59,"column":54},"generated":{"line":70,"column":59}},{"source":"../src/index.ts","name":null,"original":{"line":59,"column":4},"generated":{"line":70,"column":69}},{"source":"../src/index.ts","name":null,"original":{"line":60,"column":3},"generated":{"line":71,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":58,"column":2},"generated":{"line":71,"column":3}},{"source":"../src/index.ts","name":null,"original":{"line":62,"column":2},"generated":{"line":73,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":62,"column":2},"generated":{"line":73,"column":2}},{"source":"../src/index.ts","name":null,"original":{"line":62,"column":2},"generated":{"line":73,"column":9}},{"source":"../src/index.ts","name":null,"original":{"line":62,"column":2},"generated":{"line":73,"column":10}},{"source":"../src/index.ts","name":null,"original":{"line":62,"column":2},"generated":{"line":73,"column":19}},{"source":"../src/index.ts","name":null,"original":{"line":62,"column":2},"generated":{"line":73,"column":20}},{"source":"../src/index.ts","name":null,"original":{"line":62,"column":2},"generated":{"line":73,"column":35}},{"source":"../src/index.ts","name":null,"original":{"line":62,"column":2},"generated":{"line":73,"column":38}},{"source":"../src/index.ts","name":null,"original":{"line":62,"column":2},"generated":{"line":73,"column":50}},{"source":"../src/index.ts","name":null,"original":{"line":62,"column":22},"generated":{"line":73,"column":51}},{"source":"../src/index.ts","name":null,"original":{"line":62,"column":2},"generated":{"line":73,"column":52}},{"source":"../src/index.ts","name":null,"original":{"line":63,"column":0},"generated":{"line":75,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":63,"column":0},"generated":{"line":75,"column":9}},{"source":"../src/index.ts","name":null,"original":{"line":63,"column":0},"generated":{"line":75,"column":16}},{"source":"../src/index.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":76,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":76,"column":1}},{"source":"../src/index.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":76,"column":3}}],"sources":{"../src/index.ts":"/** @format */\n\nimport ConfigManager from \"./config\"\n// import { IMonitorOptions } from \"./typings/types\";\n// import { isPerformanceSupported } from \"./tools/isSupported\";\n// import { D, W, WN } from \"./data/constants\";\n// import {\n//   disconnectPerfObserversHidden,\n//   initPerformanceObserver\n// } from \"./performance/observer\";\nimport reportData from \"./data/reportData\"\n// import { logData } from \"./data/log\";\n// import { getNavigationTiming } from \"./helpers/getNavigationTiming\";\n// import { didVisibilityChange } from \"./helpers/onVisibilityChange\";\n// import { getNetworkInformation } from \"./helpers/getNetworkInformation\";\n// import { reportStorageEstmate } from \"./data/storageEstimate\";\nimport ErrorTrace from \"./error\"\nimport { IMonitorOptions, IReportData } from \"./typings/types\"\n\nexport default class Monitor {\n  private v = \"1.0.0\"\n  private reportData: IReportData\n  private configManager: InstanceType<typeof ConfigManager>\n  constructor(options: Partial<IMonitorOptions> = {}) {\n    const { postUrl } = options\n    if (!postUrl) throw new Error(`监控平台${this.v}提示未配置上报url`)\n    this.configManager = new ConfigManager(options)\n    this.reportData = reportData(this.configManager.reportCofing)\n    this.initError()\n    this.initPerformance()\n\n    // // 集合数据汇总\n    // config.isElementTiming = !!elementTiming;\n    // config.isResourceTiming = !!resourceTiming;\n    // config.maxTime = maxTime || config.maxTime;\n\n    // if (!isPerformanceSupported) return;\n    // if (\"PerformanceObserver\" in W) initPerformanceObserver();\n\n    // //初始化\n    // if (typeof D.hidden !== \"undefined\") {\n    //   D.addEventListener(\n    //     \"visibilitychange\",\n    //     didVisibilityChange.bind(this, disconnectPerfObserversHidden)\n    //   );\n    // }\n\n    // // 记录系统DNS请求+白屏时间等\n    // logData(\"navigationTiming\", getNavigationTiming());\n    // // 记录用户网速 H5+多普勒测试\n    // logData(\"networkInfomation\", getNetworkInformation());\n    // // 管理离线缓存数据\n    // if (WN && WN.storage && typeof WN.storage.estimate === \"function\") {\n    //   WN.storage.estimate().then(reportStorageEstmate);\n    // }\n  }\n\n  initError() {\n    new ErrorTrace(this.configManager.errConfig, this.reportData)\n  }\n\n  initPerformance() {}\n}\n"},"lineCount":null}},"error":null,"hash":"3b26fdaca170610e0f3330b22a92c114","cacheData":{"env":{}}}